Alias /contas /var/www/contas

<Directory "/var/www/contas">
    Options -Indexes -Includes -ExecCGI
    AllowOverride None
    Require all denied   # Deny everything by default

    php_value auto_prepend_file prepend.php
    php_value display_errors Off
    php_value display_startup_errors Off
    php_flag output_buffering Off

    ################################################################
    # 1. Allow PHP in root
    ################################################################
    <FilesMatch "\.php$">
        Require all granted
    </FilesMatch>

    ################################################################
    # 2. Allow CSS/JS/images in root, /assets, /public
    ################################################################
    <FilesMatch "\.(css|js|png|jpg|jpeg|gif|svg|ico)$">
        Require all granted
    </FilesMatch>

    <Directory "/var/www/contas/assets">
        Require all granted
    </Directory>

    <Directory "/var/www/contas/public">
        Require all granted
    </Directory>

    ################################################################
    # 3. Protect sensitive files
    ################################################################
    <FilesMatch "\.(json|md|log|ini|env|lock|dist|config|yaml|yml)$">
        Require all denied
    </FilesMatch>

    <FilesMatch "^composer\.(json|lock)$">Require all denied</FilesMatch>
    <FilesMatch "^\.\w+">Require all denied</FilesMatch>
</Directory>
